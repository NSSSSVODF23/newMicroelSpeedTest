"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[319],{9319:(zn,K,p)=>{p.r(K),p.d(K,{PublicModule:()=>Vn});var d=p(9808),h=p(2573),F=p(4004),e=p(7587),T=p(7579),ee=p(4482),q=p(5403);function te(n){return(0,ee.e)((i,t)=>{let s,r,o=!1;const u=()=>{s=i.subscribe(new q.Q(t,void 0,void 0,l=>{r||(r=new T.x,n(r).subscribe(new q.Q(t,()=>s?u():o=!0))),r&&r.next(l)})),o&&(s.unsubscribe(),s=null,o=!1,u())};u()})}var Se=p(4986),Ze=p(7272),ne=p(5698),Ae=p(5032),Re=p(5577);function ie(n,i){return i?t=>(0,Ze.z)(i.pipe((0,ne.q)(1),function Ee(){return(0,ee.e)((n,i)=>{n.subscribe(new q.Q(i,Ae.Z))})}()),t.pipe(ie(n))):(0,Re.z)((t,s)=>n(t,s).pipe((0,ne.q)(1),function Ie(n){return(0,F.U)(()=>n)}(t)))}var De=p(5963);function se(n,i=Se.z){const t=(0,De.H)(n,i);return ie(()=>t)}var ke=p(930),oe=p(8306),Fe=p(727),U=p(4707);const qe={url:"",deserializer:n=>JSON.parse(n.data),serializer:n=>JSON.stringify(n)};class B extends T.u{constructor(i,t){if(super(),this._socket=null,i instanceof oe.y)this.destination=t,this.source=i;else{const s=this._config=Object.assign({},qe);if(this._output=new T.x,"string"==typeof i)s.url=i;else for(const o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);if(!s.WebSocketCtor&&WebSocket)s.WebSocketCtor=WebSocket;else if(!s.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new U.t}}lift(i){const t=new B(this._config,this.destination);return t.operator=i,t.source=this,t}_resetState(){this._socket=null,this.source||(this.destination=new U.t),this._output=new T.x}multiplex(i,t,s){const o=this;return new oe.y(r=>{try{o.next(i())}catch(l){r.error(l)}const u=o.subscribe(l=>{try{s(l)&&r.next(l)}catch(c){r.error(c)}},l=>r.error(l),()=>r.complete());return()=>{try{o.next(t())}catch(l){r.error(l)}u.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:i,protocol:t,url:s,binaryType:o}=this._config,r=this._output;let u=null;try{u=t?new i(s,t):new i(s),this._socket=u,o&&(this._socket.binaryType=o)}catch(c){return void r.error(c)}const l=new Fe.w0(()=>{this._socket=null,u&&1===u.readyState&&u.close()});u.onopen=c=>{const{_socket:g}=this;if(!g)return u.close(),void this._resetState();const{openObserver:C}=this._config;C&&C.next(c);const y=this.destination;this.destination=ke.Lv.create(m=>{if(1===u.readyState)try{const{serializer:v}=this._config;u.send(v(m))}catch(v){this.destination.error(v)}},m=>{const{closingObserver:v}=this._config;v&&v.next(void 0),m&&m.code?u.close(m.code,m.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:m}=this._config;m&&m.next(void 0),u.close(),this._resetState()}),y&&y instanceof U.t&&l.add(y.subscribe(this.destination))},u.onerror=c=>{this._resetState(),r.error(c)},u.onclose=c=>{this._resetState();const{closeObserver:g}=this._config;g&&g.next(c),c.wasClean?r.complete():r.error(c)},u.onmessage=c=>{try{const{deserializer:g}=this._config;r.next(g(c))}catch(g){r.error(g)}}}_subscribe(i){const{source:t}=this;return t?t.subscribe(i):(this._socket||this._connectSocket(),this._output.subscribe(i),i.add(()=>{const{_socket:s}=this;0===this._output.observers.length&&(s&&(1===s.readyState||0===s.readyState)&&s.close(),this._resetState())}),i)}unsubscribe(){const{_socket:i}=this;i&&(1===i.readyState||0===i.readyState)&&i.close(),this._resetState(),super.unsubscribe()}}function V(n){return new B(n)}var E,Be=p(1135),Ve=new Uint8Array(16);function ze(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(Ve)}const Ne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,re=function Je(n){return"string"==typeof n&&Ne.test(n)};for(var _=[],z=0;z<256;++z)_.push((z+256).toString(16).substr(1));const ae=function Le(n,i,t){var s=(n=n||{}).random||(n.rng||ze)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,i){t=t||0;for(var o=0;o<16;++o)i[t+o]=s[o];return i}return function Ye(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(_[n[i+0]]+_[n[i+1]]+_[n[i+2]]+_[n[i+3]]+"-"+_[n[i+4]]+_[n[i+5]]+"-"+_[n[i+6]]+_[n[i+7]]+"-"+_[n[i+8]]+_[n[i+9]]+"-"+_[n[i+10]]+_[n[i+11]]+_[n[i+12]]+_[n[i+13]]+_[n[i+14]]+_[n[i+15]]).toLowerCase();if(!re(t))throw TypeError("Stringified UUID is invalid");return t}(s)},He=location.hostname;class ue{constructor(){this.pingValue=0,this.jitterValue=0,this.webSocket=V({url:`ws://${He}:8080/ping/${localStorage.getItem("deviceId")}`}),this.requests=[],this.nextIndex=0,this.responseCount=0,this.observer=new Be.X({ping:"__.___",jitter:"__.___"});for(let i=0;i<100;i++)this.requests.push({uuid:ae(),start:0,end:0});this.webSocket.pipe(te(i=>i.pipe(se(2e3)))).subscribe({next:this.sendRequest.bind(this)})}getObserver(){return this.observer.asObservable()}run(){this.sendRequest()}sendRequest(i){i&&this.setResponse(i);const t=this.getNextRequestBody();t?this.webSocket.next(t):(this.webSocket.complete(),this.observer.complete())}getAvgPing(){const i=this.requests.filter(s=>0!==s.end);return i.map(s=>s.end-s.start).filter((s,o)=>o>=8).reduce((s,o)=>s+o,0)/(i.length-8)}getAvgJitter(){const t=this.requests.filter(o=>0!==o.end).map(o=>o.end-o.start);return t.map((o,r)=>r<8?0:Math.abs(o-t[r-1])).reduce((o,r)=>o+r,0)/(t.length-8)}getNextRequestBody(){if(0===this.nextIndex&&(this.timeout=setTimeout(()=>{this.requests.every(t=>0===t.end)?this.observer.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430 \u043d\u0430 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0443 \u0441\u0438\u0433\u043d\u0430\u043b\u0430."):(this.pingValue=this.getAvgPing(),this.jitterValue=this.getAvgJitter(),this.observer.next({ping:this.pingValue.toFixed(3).toString(),jitter:this.jitterValue.toFixed(3).toString()}),this.observer.complete())},5e3)),100===this.nextIndex)return null;const i=this.requests[this.nextIndex++];return i.start=performance.now(),i.uuid}setResponse(i){const t=this.requests.find(s=>s.uuid===i);t&&(t.end=performance.now()),100==++this.responseCount&&(this.pingValue=this.getAvgPing(),this.jitterValue=this.getAvgJitter(),this.observer.next({ping:this.pingValue.toFixed(3).toString(),jitter:this.jitterValue.toFixed(3).toString()}),this.observer.complete(),clearTimeout(this.timeout))}}var b=(()=>{return(n=b||(b={}))[n.DEVICE_INFO=0]="DEVICE_INFO",n[n.START=1]="START",n[n.END=2]="END",n[n.ERROR=3]="ERROR",n[n.RESULT=4]="RESULT",n[n.ABORT=5]="ABORT",n[n.GET_DEVICE_INFO=6]="GET_DEVICE_INFO",n[n.TESTING_MODE=7]="TESTING_MODE",b;var n})();class We{constructor(i,t,s){this.ping=null==i?void 0:i.pingValue,this.pingJitter=null==i?void 0:i.jitterValue,this.downloadSpeed=null==t?void 0:t.currentValue,this.downloadSpeedUser=null==t?void 0:t.slowCurrentValue,this.downloadStability=null==t?void 0:t.stability,this.downloadLoss=null==t?void 0:t.percentLoss,this.downloadSpeedChart=null==t?void 0:t.chartData,this.downloadSpeedChartUser=null==t?void 0:t.slowChartData,this.uploadSpeed=null==s?void 0:s.currentValue,this.uploadSpeedUser=null==s?void 0:s.slowCurrentValue,this.uploadStability=null==s?void 0:s.stability,this.uploadLoss=null==s?void 0:s.percentLoss,this.uploadSpeedChart=null==s?void 0:s.chartData,this.uploadSpeedChartUser=null==s?void 0:s.slowChartData}}var le=p(8466),w=(()=>{return(n=w||(w={}))[n.UNKNOWN=0]="UNKNOWN",n[n.PREPARE=1]="PREPARE",n[n.PING=2]="PING",n[n.DOWNLOAD=3]="DOWNLOAD",n[n.UPLOAD=4]="UPLOAD",n[n.RESULT=5]="RESULT",w;var n})();const Xe=["chart"],$e=function(n){return{aspectRatio:n}},Ke=function(n,i){return{"width-100":n,"height-100":i}};class ce{constructor(i,t){this.stamp=i,this.speed=t}}let J=(()=>{class n{constructor(){this.ctx=null,this.dataSubscription=null,this.viewInterval=15e3,this.shifted=!1,this.stroke=[],this.fill=[],this.sized="auto",this._chartData=[],this.clearCanvas=()=>{this.canvas&&this.ctx&&(this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ctx.restore())},this.getFillStyle=(t,s)=>{const o=t.createLinearGradient(0,2*-this.canvas.nativeElement.height,0,this.canvas.nativeElement.height);return o.addColorStop(0,s),o.addColorStop(1,"white"),o},this.getLastTimestamp=t=>{let s=0;return t.forEach(o=>{o.length>0&&(s=Math.max(s,o[o.length-1].stamp))}),s},this.getShift=(t,s)=>(this.getLastTimestamp(t)-this.viewInterval)*s,this.getXFactor=()=>{var t;return(null===(t=this.canvas)||void 0===t?void 0:t.nativeElement.width)/this.viewInterval},this.getYFactor=t=>{var s;return t>0?((null===(s=this.canvas)||void 0===s?void 0:s.nativeElement.height)-10)/t:0},this.getApex=t=>Math.max(...t.map(s=>Math.max(...s.map(o=>o.speed)))),this.draw=t=>{var s;const o=this.getApex(t),r=this.getXFactor(),u=this.getYFactor(o);if(this.shifted&&this.getLastTimestamp(t)>this.viewInterval){const l=this.getShift(t,r);null===(s=this.ctx)||void 0===s||s.setTransform(1,0,0,1,-l,0)}this.clearCanvas(),t.forEach((l,c)=>{var g,C,y;if(this.ctx){if(0===l.length)return;this.ctx.globalAlpha=1/t.length*(t.length-c),this.ctx.beginPath(),this.ctx.strokeStyle=this.stroke[c]?this.stroke[c]:"red",this.ctx.fillStyle=this.getFillStyle(this.ctx,this.fill[c]?this.fill[c]:"red"),this.ctx.lineWidth=1,this.ctx.moveTo(-1,null===(g=this.canvas)||void 0===g?void 0:g.nativeElement.height),this.ctx.lineTo(-1,(null===(C=this.canvas)||void 0===C?void 0:C.nativeElement.height)-l[0].speed*u-5),l.forEach(m=>{var v,$;null===(v=this.ctx)||void 0===v||v.lineTo(m.stamp*r,(null===($=this.canvas)||void 0===$?void 0:$.nativeElement.height)-m.speed*u-5)}),this.ctx.stroke(),this.ctx.lineTo(l[l.length-1].stamp*r,null===(y=this.canvas)||void 0===y?void 0:y.nativeElement.height),this.ctx.fill()}})},this.viewResize=()=>{this.canvas&&(this.canvas.nativeElement.width=this.canvas.nativeElement.offsetWidth,this.canvas.nativeElement.height=this.canvas.nativeElement.offsetHeight)},this.redraw=()=>{this.viewResize(),this.draw(this._chartData)}}set chartData(t){this._chartData=t,this.redraw()}ngOnInit(){}ngAfterViewInit(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.canvas.nativeElement.width=692,this.canvas.nativeElement.height=300,this.redraw()}ngOnDestroy(){var t;null===(t=this.dataSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-speed-chart"]],viewQuery:function(t,s){if(1&t&&e.Gf(Xe,5),2&t){let o;e.iGM(o=e.CRH())&&(s.canvas=o.first)}},inputs:{viewInterval:"viewInterval",shifted:"shifted",stroke:"stroke",fill:"fill",sized:"sized",ratio:"ratio",chartData:"chartData"},decls:2,vars:8,consts:[[3,"ngClass"],["chart",""]],template:function(t,s){1&t&&e._UZ(0,"canvas",0,1),2&t&&(e.Akn(e.VKq(3,$e,s.ratio)),e.Q6J("ngClass",e.WLB(5,Ke,"width"===s.sized,"height"===s.sized)))},directives:[d.mk],styles:["canvas[_ngcontent-%COMP%]{width:100%;height:100%}.width-100[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:2.5}.height-100[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:2.5}[_nghost-%COMP%]{width:100%;height:100%}"]}),n})();function Y(n,i){const t=Math.pow(10,i);return Math.round((n+Number.EPSILON)*t)/t}function pe(n,i,t,s){return 8*(n-i)/1e6/(((void 0!==s?s:performance.now())-t)/1e3)}class P{constructor(i){this.currentValue=0,this.slowCurrentValue=0,this.chartData=[],this.slowChartData=[],this.stability=100,this.percentLoss=0,this.avgWindowSizes=[15,30,50],this.avgValuesArrays=[],this.slowValuesArray=[],this.rawValues=[],this.differenceArray=[],this.amplitude=0,this.amplitudeCount=0,this.speedInterval=0,this.maxSpeed=0,this.countZeroValues=0,this.zeroRatio=0,this.loadStamp=performance.now(),this.loadBytes=0,this.uploadPackets=[],this.startTestTime=0,this.smoothLevel=0,this.breakTestTime=0,this.testingRequest=i,this.testingRequest.getObserver().subscribe({next:t=>{"number"==typeof t?this.appendBytes(t):this.appendUploadParticle(t)},complete:()=>{this.calculateFinal()}})}getObserver(){return this.testingRequest.getObserver()}onTestEnd(i){this.testingRequest.setEndTestHandler(i)}run(){this.testingRequest.sendRequest()}abort(){this.testingRequest.abort()}calculateFinal(){const i=this.avgValuesArrays[this.smoothLevel].sort((s,o)=>s-o).slice(-30),t=this.slowValuesArray.sort((s,o)=>s-o).slice(-30);this.currentValue=i.reduce((s,o)=>s+o,0)/i.length,this.slowCurrentValue=t.reduce((s,o)=>s+o,0)/t.length}appendBytes(i){if(0===this.loadBytes)this.loadStamp=performance.now(),this.loadBytes=i;else{const t=pe(i,this.loadBytes,this.loadStamp);this.loadStamp=performance.now(),this.loadBytes=i,this.updateValues(t)}}appendUploadParticle(i){this.uploadPackets.push(i);const t=this.uploadPackets.length;if(t>1){const s=pe(i.b,this.uploadPackets[t-2].b,this.uploadPackets[t-2].e,i.e);this.updateValues(s,i.e)}}calculateAvgValues(){if(0===this.avgValuesArrays.length)for(let t=0;t<this.avgWindowSizes.length;t++)this.avgValuesArrays.push([]);for(let t=0;t<this.avgWindowSizes.length;t++){const s=this.avgWindowSizes[t],o=this.avgValuesArrays[t];if(1===this.rawValues.length)o.push(this.rawValues[0]);else if(this.rawValues.length>1){const r=this.rawValues.slice(-s);let u=r.reduce((l,c)=>l+c,0)/r.length;u+=.04*u,o.push(Y(u,3))}}const i=this.avgValuesArrays[this.smoothLevel].slice(-30).sort((t,s)=>s-t).slice(0,3);this.slowValuesArray.push(i.reduce((t,s)=>t+s,0)/i.length)}calculateZeroRatio(i){0===i&&this.rawValues.length>1&&(this.countZeroValues++,this.zeroRatio=Y(this.countZeroValues/this.rawValues.length,6),this.percentLoss=Y(100*this.zeroRatio,2))}calculateDifference(){const i=this.avgValuesArrays[0].length-1;this.differenceArray.push(this.avgValuesArrays[this.smoothLevel][i]-this.avgValuesArrays[this.smoothLevel+1][i])}calculateAmplitude(){const i=[];let s="none";for(let l=0;l<this.differenceArray.length;l++){const c=this.differenceArray[l],g=i.length-1;0!==c&&("none"===s?(c>0?s="up":c<0&&(s="down"),i.push(c)):"up"===s?c<0?(s="down",i.push(c)):c>i[g]&&(i[g]=c):"down"===s&&(c>0?(s="up",i.push(c)):c<i[g]&&(i[g]=c)))}const o=i.map(l=>Math.abs(l)).filter(l=>l>5);this.amplitudeCount=o.length,this.amplitude=o.reduce((l,c)=>l+c,0)/this.amplitudeCount;const r=this.avgValuesArrays[this.smoothLevel].sort((l,c)=>c-l),u=r.filter((l,c)=>{const g=Math.round(.1*r.length),C=Math.round(.9*r.length);return c>=g&&c<=C});this.speedInterval=u[0]-u[u.length-1],this.maxSpeed=u[0]}calculateStability(){this.stability=100*(1-((0+this.amplitudeCount/15)/2+this.speedInterval/this.maxSpeed/4+this.zeroRatio))}updateChartsData(i){this.chartData.push(new ce(i||Date.now()-this.startTestTime,this.currentValue)),this.slowChartData.push(new ce(i||Date.now()-this.startTestTime,this.slowCurrentValue)),this.chartData=[...this.chartData],this.slowChartData=[...this.slowChartData]}updateValues(i,t){0===this.rawValues.length&&(this.startTestTime=Date.now()),this.rawValues.push(i),this.calculateZeroRatio(i),this.calculateAvgValues(),this.currentValue=this.avgValuesArrays[this.smoothLevel][this.avgValuesArrays[this.smoothLevel].length-1],this.slowCurrentValue=this.slowValuesArray[this.slowValuesArray.length-1],this.calculateDifference(),this.updateChartsData(t),this.calculateAmplitude(),this.calculateStability()}}const et=location.hostname;class R{constructor(i=15300){this.request=new XMLHttpRequest,this.updater=new T.x,this.byteCounterBuffer=[],this.requestIndex=0,this.run=!0,this.first=!0,this.endTime=Number.MAX_VALUE,this.onEndTest=()=>{},this.testingTime=i}getName(){return"DownloadTestingRequest"}getObserver(){return this.updater.asObservable()}sendRequest(){!this.first&&this.endTime&&this.endTime<Date.now()&&(this.onEndTest(),this.abort()),this.run&&(this.request=new XMLHttpRequest,this.request.open("POST",`http://${et}:8080/public/download?deviceId=${localStorage.getItem("deviceId")}`),this.request.onprogress=i=>{this.byteCounterBuffer[this.requestIndex]=i.loaded,this.first&&(this.first=!1,this.endTime=Date.now()+this.testingTime,this.intervalIndex=setInterval(()=>{this.updater.next(this.byteCounterBuffer.reduce((t,s)=>t+s,0)),!this.first&&this.endTime&&this.endTime<Date.now()&&(this.onEndTest(),this.abort())},150))},this.request.onloadend=()=>{this.requestIndex++,this.sendRequest()},this.request.onerror=()=>{this.updater.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f.")},this.request.send())}abort(){this.run=!1,this.request.abort(),this.updater.closed||this.updater.complete(),clearInterval(this.intervalIndex)}setEndTestHandler(i){this.onEndTest=i}}const de=location.hostname;class he{constructor(){this.activeRequests=[],this.updater=new T.x,this.webSocket=V({url:`ws://${de}:8080/upload/${localStorage.getItem("deviceId")}`}),this.first=!0,this.run=!0,this.SIZE_OF_REQUEST=800,this.data=[],this.SIZE=65536,this.isBreak=!1,this.updateIndex=0,this.endTimePreviousRequest=0,this.decreaseTimeSum=0,this.onEndTest=()=>{};for(let i=0;i<this.SIZE_OF_REQUEST;i++)this.data.push(new ArrayBuffer(this.SIZE))}abort(){this.run=!1,this.activeRequests.filter(i=>!i.isEnd).forEach(i=>i.request.abort()),this.updater.closed||this.updater.complete(),this.webSocket.complete()}getObserver(){return this.updater.asObservable()}sendRequest(){if(!this.run)return;this.first&&(this.connectToSocket(),this.first=!1,this.endTimePreviousRequest=Date.now());const i={request:new XMLHttpRequest,isEnd:!1};i.request.open("POST",`http://${de}:8080/public/upload?deviceId=${localStorage.getItem("deviceId")}`),i.request.upload.onerror=()=>{this.run=!1,this.activeRequests.filter(t=>!t.isEnd).forEach(t=>t.request.abort()),this.updater.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438."),this.webSocket.complete()},i.request.upload.onloadstart=()=>{},i.request.upload.onprogress=t=>{this.activeRequests.filter(s=>!s.isEnd).length<2&&t.loaded>25e6&&this.sendRequest()},i.request.upload.onloadend=()=>{i.isEnd=!0},i.request.send(new Blob(this.data,{type:"application/octet-stream"})),this.activeRequests.push(i)}setEndTestHandler(i){this.onEndTest=i}getName(){return"UploadTestingRequest"}connectToSocket(){this.webSocket.subscribe({next:i=>{this.lastParticle=i,this.isBreak||(0!==this.endTimePreviousRequest?(this.decreaseTimeSum-=Date.now()-this.endTimePreviousRequest-300,i.e+=this.decreaseTimeSum,this.updater.next(Object.assign({},i)),this.endTimePreviousRequest=0):(i.e+=this.decreaseTimeSum,this.updater.next(Object.assign({},i))),i.e>15e3&&(this.onEndTest(),this.abort()))},error:i=>{this.run=!1,this.activeRequests.filter(t=>!t.isEnd).forEach(t=>t.request.abort()),this.updater.error("\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u043e\u043a\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043f\u0440\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.")}})}}let O=(()=>{class n{constructor(){this.platform=navigator?navigator.platform:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",this.system=n.getOS(),this.userAgent=navigator?navigator.userAgent:"\u041f\u0443\u0441\u0442\u043e\u0439 userAgent",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.getDeviceInfo=()=>({deviceId:this.deviceId,platform:this.platform,system:this.system,userAgent:this.userAgent,isMobile:this.isMobile}),this.deviceId=localStorage.getItem("deviceId"),re(this.deviceId)||(this.deviceId=ae(),localStorage.setItem("deviceId",this.deviceId))}}return n.getOS=()=>{let i="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430";return!navigator||!("appVersion"in navigator)||(-1!=navigator.appVersion.indexOf("Win")&&(i="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(i="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(i="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(i="Linux")),i},n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nt=location.hostname;let x=(()=>{class n{constructor(t,s){this.deviceInfo=t,this.router=s,this.isEnd=!1,this.isSocketOpen=!1,this.testStage=w.UNKNOWN,this.connectionType=le.o.WIFI,this.measureSocket=V({url:`ws://${nt}:8080/measure/${localStorage.getItem("deviceId")}`,openObserver:{next:()=>this.isSocketOpen=!0},closeObserver:{next:()=>this.isSocketOpen=!1}}),this.isProMode=!1,this.pingTest=new ue,this.downloadTest=new P(new R),this.uploadTest=new P(new he),this.measureSocket.pipe(te(o=>o.pipe(se(2e3)))).subscribe({next:o=>{o.type===b.GET_DEVICE_INFO&&this.measureSocket.next({type:b.DEVICE_INFO,deviceInfo:t.getDeviceInfo()}),o.type===b.TESTING_MODE&&(this.isProMode=!!o.isPro),o.type===b.RESULT&&s.navigate(["/result"],{queryParams:{id:o.resultId}}).then()}})}clear(){this.isEnd=!1,this.downloadTest.abort(),this.uploadTest.abort(),this.pingTest=new ue,this.downloadTest=new P(new R),this.uploadTest=new P(new he),this.testStage=w.PREPARE}sendStart(){this.initSubscribers(),this.measureSocket.next({type:b.START,deviceInfo:this.deviceInfo.getDeviceInfo(),connectionType:this.connectionType}),this.startPingTest()}initSubscribers(){this.pingTest.getObserver().subscribe({complete:()=>this.startDownloadTest(),error:this.errorHandler.bind(this)}),this.downloadTest.getObserver().subscribe({complete:()=>this.startUploadTest(),error:this.errorHandler.bind(this)}),this.uploadTest.getObserver().subscribe({error:this.errorHandler.bind(this)}),this.uploadTest.onTestEnd(()=>{this.isEnd=!0,this.measureSocket.next({type:b.END,deviceInfo:this.deviceInfo.getDeviceInfo(),result:new We(this.pingTest,this.downloadTest,this.uploadTest)})})}errorHandler(t){this.router.navigate(["error"],{queryParams:{err:t}}).then()}startPingTest(){this.testStage=w.PING,this.pingTest.run()}startDownloadTest(){this.testStage=w.DOWNLOAD,this.downloadTest.run()}startUploadTest(){this.testStage=w.UPLOAD,this.uploadTest.run()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O),e.LFG(h.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var me=p(520),st=p(262),ot=p(9646);let S=(()=>{class n{constructor(t,s){this.http=t,this.deviceInfoService=s,this.CAPTCHA_PUBLIC="6LeEWkIiAAAAALQeUOIoO9gEPMMeOGIZZdYk2kuR"}getMeasure(t){return this.http.post(this.url("measure"),{id:t})}putRating(t){return this.http.put(this.url("rating"),{rating:t})}putComplaint(t){return this.http.put(this.url("complaint"),t)}isAlreadyRated(){return this.http.post(this.url("has-rated"),{})}isPro(){return this.http.post(this.url("is-pro"),{deviceId:this.deviceInfoService.deviceId}).pipe((0,F.U)(t=>{var s;return!t.isError&&null!==(s=t.responseBody)&&void 0!==s&&s}),(0,st.K)(t=>(0,ot.of)(!1)))}isAlreadyRunning(){return this.http.post(this.url("already-run"),{})}url(t){return`http://${location.hostname}:8080/public/${t}`}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(me.eN),e.LFG(O))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=p(9783);let fe=(()=>{class n{constructor(t,s,o,r,u,l){this.testingService=t,this.router=s,this.http=o,this.device=r,this.api=u,this.messageService=l}canActivate(t,s){return this.api.isAlreadyRunning().pipe((0,F.U)(o=>!(o.isError||!this.testingService.isSocketOpen)||(o.isError&&this.messageService.add({key:"msg",severity:"warn",life:1e4,detail:"\u041d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u0432\u0430\u0448\u0438\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0443\u0436\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0434\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0435\u0433\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f."}),this.router.createUrlTree(["/"]))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x),e.LFG(h.F0),e.LFG(me.eN),e.LFG(O),e.LFG(S),e.LFG(Z.ez))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=p(2313),ve=p(5787);function rt(n,i){if(1&n&&e._UZ(0,"img",3),2&n){const t=e.oxw();e.Q6J("src",t.icon,e.LSH)}}function at(n,i){1&n&&e._UZ(0,"i",4)}const ut=function(n,i,t,s,o){return{rounded:n,"rounded-with-icon":i,"wrapper-accent alt-ripple":t,"wrapper-primary primary-ripple":s,disabled:o}};let lt=(()=>{class n{constructor(t,s){this.router=t,this.measure=s,this.loading=!1,this.label="",this.icon="",this.round=!0,this.connectionType=le.o.WIFI,this.primaryStyle=!0,this.disabled=!1,this.target="/measure"}ngOnInit(){}start(){this.loading=!0,this.measure.connectionType=this.connectionType,setTimeout(()=>this.router.navigate([this.target]).then(),500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-starting-test-button"]],inputs:{label:"label",icon:"icon",round:"round",connectionType:"connectionType",primaryStyle:"primaryStyle",disabled:"disabled",target:"target"},decls:5,vars:10,consts:[["pRipple","",3,"ngClass","click"],["alt","","srcset","",3,"src",4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],["alt","","srcset","",3,"src"],[1,"pi","pi-spin","pi-spinner"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return s.start()}),e.YNc(1,rt,1,1,"img",1),e.YNc(2,at,1,0,"i",2),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngClass",e.qbA(4,ut,s.round&&""==s.icon,s.round&&""!==s.icon,!s.primaryStyle,s.primaryStyle,s.disabled)),e.xp6(1),e.Q6J("ngIf",""!=s.icon&&!s.loading),e.xp6(1),e.Q6J("ngIf",""!=s.icon&&s.loading),e.xp6(2),e.Oqu(s.label))},directives:[ve.H,d.mk,d.O5],styles:[".wrapper-accent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.4rem;padding:1rem;border:2px solid #ffffff;border-radius:999px;cursor:pointer;background-color:#fff;box-shadow:0 6px 12px #e7385514,0 0 1px #e738552e}.wrapper-accent[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .wrapper-accent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff783a}.wrapper-primary[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.4rem;padding:1rem;border:2px solid #ffffff;border-radius:999px;cursor:pointer;background-color:#fff;box-shadow:0 6px 12px #05111b1d,0 0 1px #030e1758}.wrapper-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .wrapper-primary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4898df}.rounded[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;justify-items:center;align-content:center}.rounded[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em}.rounded-with-icon[_ngcontent-%COMP%]{aspect-ratio:1;display:grid;grid-gap:.3em;gap:.3em;grid-template-rows:repeat(2,min-content);grid-template-columns:max-content;justify-items:center;align-content:center;padding:1rem}.rounded-with-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65em;padding-bottom:.5em}div[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;font-size:2rem;width:13rem;transition:border-color .2s ease-in-out;aspect-ratio:2.5;user-select:none}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem}div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85em;font-weight:500;letter-spacing:.05rem}div.disabled[_ngcontent-%COMP%]{filter:brightness(.9) grayscale(1)}div.disabled[_ngcontent-%COMP%]:hover{border:none!important}.wrapper-primary[_ngcontent-%COMP%]:hover{border:2px solid #4898df}.wrapper-accent[_ngcontent-%COMP%]:hover{border:2px solid #ff783a}"]}),n})();const ct=["*"];let pt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-label"]],ngContentSelectors:ct,decls:2,vars:0,template:function(t,s){1&t&&(e.F$t(),e.TgZ(0,"span"),e.Hsn(1),e.qZA())},styles:["[_nghost-%COMP%]{width:max-content}span[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif;color:#818181}"]}),n})();var j=p(97);function dt(n,i){1&n&&e._UZ(0,"div")}function gt(n,i){if(1&n&&e._UZ(0,"app-starting-test-button",6),2&n){const t=e.oxw();e.Q6J("disabled",!t.testingService.isSocketOpen)("primaryStyle",!1)("round",!1)}}function ht(n,i){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"app-label",7),e._uU(2," \u041a\u0430\u043a \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0434\u0430\u043d\u043d\u043e\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443? "),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"app-starting-test-button",9),e.TgZ(5,"app-label"),e._uU(6,"\u0438\u043b\u0438"),e.qZA(),e._UZ(7,"app-starting-test-button",10),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("connectionType",1)("disabled",!t.testingService.isSocketOpen)("primaryStyle",!0)("round",!0),e.xp6(3),e.Q6J("connectionType",0)("disabled",!t.testingService.isSocketOpen)("primaryStyle",!0)("round",!0)}}function mt(n,i){if(1&n&&e._UZ(0,"app-starting-test-button",11),2&n){const t=e.oxw();e.Q6J("connectionType",1)("disabled",!t.testingService.isSocketOpen)("primaryStyle",!0)("round",!0)}}function ft(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043f\u0440\u043e\u0431\u0443\u0435\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f..."),e.qZA())}function vt(n,i){1&n&&(e.TgZ(0,"div",12),e.TgZ(1,"p-messages",13),e.YNc(2,ft,2,0,"ng-template",14),e.qZA(),e.qZA())}let L=(()=>{class n{constructor(t,s,o,r){this.deviceInfoService=t,this.testingService=s,this.titleService=o,this.api=r,this.isMobile=!1}ngOnInit(){this.titleService.setTitle("Microel.\u041c\u0415\u0422\u0420"),this.isMobile=this.deviceInfoService.isMobile}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O),e.Y36(x),e.Y36(M.Dx),e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:5,consts:[[1,"btn-container"],[4,"ngIf","ngIfThen","ngIfElse"],["class","self-center","icon","../../../../assets/icons/gauge.svg","label","\u0420\u0430\u0434\u0430\u0440","target","/radar",3,"disabled","primaryStyle","round",4,"ngIf"],["desktopButton",""],["mobileButton",""],["class","connection-lost-message",4,"ngIf"],["icon","../../../../assets/icons/gauge.svg","label","\u0420\u0430\u0434\u0430\u0440","target","/radar",1,"self-center",3,"disabled","primaryStyle","round"],[1,"self-center"],[1,"desktop-btn-wrapper","flex-centered"],["icon","../../../../assets/icons/wifi.svg","label","\u0411\u0435\u0437 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u0432",1,"self-center",3,"connectionType","disabled","primaryStyle","round"],["icon","../../../../assets/icons/ethernet.svg","label","\u041a\u0430\u0431\u0435\u043b\u0435\u043c",1,"self-center",3,"connectionType","disabled","primaryStyle","round"],["label","\u041d\u0430\u0447\u0430\u0442\u044c",1,"self-center",3,"connectionType","disabled","primaryStyle","round"],[1,"connection-lost-message"],["severity","error"],["pTemplate","content"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,dt,1,0,"div",1),e.YNc(2,gt,1,3,"app-starting-test-button",2),e.qZA(),e.YNc(3,ht,8,8,"ng-template",null,3,e.W1O),e.YNc(5,mt,1,4,"ng-template",null,4,e.W1O),e.YNc(7,vt,3,0,"div",5)),2&t){const o=e.MAs(4),r=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!s.isMobile)("ngIfThen",o)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",s.testingService.isProMode),e.xp6(5),e.Q6J("ngIf",!s.testingService.isSocketOpen)}},directives:[d.O5,lt,pt,j.V,Z.jx],styles:[".btn-container[_ngcontent-%COMP%]{display:grid;grid-gap:3rem;gap:3rem;box-sizing:border-box;margin-top:4rem}.connection-lost-message[_ngcontent-%COMP%]{display:grid;grid:min-content/minmax(min-content,max-content);justify-content:center;align-items:center;padding:1.5rem 1rem}[_nghost-%COMP%]{flex-grow:1}"]}),n})();var a=p(1777),Q=p(6926);let _t=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-top-panel"]],decls:2,vars:1,consts:[["alt","","src","/assets/images/logo.svg","srcset","",1,"main-logo",3,"routerLink"]],template:function(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("routerLink","/"))},directives:[h.rH],styles:["div[_ngcontent-%COMP%]{padding:.2rem;background-color:#fff;border-bottom:1px solid #dee2e6;display:flex;align-items:center}"]}),n})();var _e=p(7773);let H=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:31,vars:0,consts:[[1,"wrapper"],["key","msg","position","bottom-center"],[1,"footer"],[1,"info-stack"],[1,"title"],["href","https://vdonsk.ru"],["href","http://user.vdonsk.ru/index.php#services"],["href","tel:+7(8639) 21-31-41"],["href","tel:+7(8639) 24-40-70"],["href","/complaint"],["href","https://vk.com/vdonsk_ru"],["href","https://wa.me/79081788483"],[1,"grow"],[1,"about"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-top-panel"),e._UZ(2,"router-outlet"),e._UZ(3,"p-toast",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"span",4),e._uU(7," \u0421\u0430\u0439\u0442 "),e.qZA(),e.TgZ(8,"a",5),e._uU(9,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),e.qZA(),e.TgZ(10,"a",6),e._uU(11,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),e.qZA(),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"span",4),e._uU(14," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b "),e.qZA(),e.TgZ(15,"a",7),e._uU(16,"+7(8639) 21-31-41"),e.qZA(),e.TgZ(17,"a",8),e._uU(18,"+7(8639) 24-40-70"),e.qZA(),e.TgZ(19,"a",9),e._uU(20,"\u0422\u0435\u0445. \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"),e.qZA(),e.qZA(),e.TgZ(21,"div",3),e.TgZ(22,"span",4),e._uU(23," \u0421\u043e\u0446. \u0441\u0435\u0442\u0438 "),e.qZA(),e.TgZ(24,"a",10),e._uU(25,"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),e.qZA(),e.TgZ(26,"a",11),e._uU(27,"WhatsApp"),e.qZA(),e.qZA(),e._UZ(28,"div",12),e.TgZ(29,"div",13),e._uU(30," microel.\u041c\u0415\u0422\u0420 - \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f. \u0418\u0437\u043c\u0435\u0440\u044f\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0443\u044e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0430, \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430. "),e.qZA(),e.qZA(),e.qZA())},directives:[_t,h.lC,_e.FN],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%}.wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:2rem;background-color:#fff;padding:2rem;border-top:1px solid #dee2e6;display:flex;flex-wrap:wrap;gap:2rem;color:#556674}.wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{font-size:.7rem;max-width:20rem;color:#768794}.wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .info-stack[_ngcontent-%COMP%]{display:flex;gap:.4rem;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .info-stack[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.9rem;color:#768794;font-weight:500}.wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .info-stack[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;color:#4898df;text-decoration:none}"]}),n})();function Ct(n,i){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"i",8),e._uU(2," \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f "),e._UZ(3,"div",9),e.TgZ(4,"span",10),e._UZ(5,"i",11),e._uU(6),e.ALo(7,"date"),e.qZA(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.xi3(7,1,null==t.measure?null:t.measure.created,"dd.MM.yyyy HH:mm:ss")," ")}}function yt(n,i){1&n&&e._UZ(0,"ng-component")}function bt(n,i){if(1&n&&(e.TgZ(0,"p-card"),e.YNc(1,Ct,8,4,"ng-template",5),e.YNc(2,yt,1,0,"ng-component",6),e.qZA()),2&n){e.oxw();const t=e.MAs(5);e.Q6J("@flowResult",void 0),e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function wt(n,i){1&n&&e._UZ(0,"ng-component")}function xt(n,i){if(1&n&&(e.TgZ(0,"p-card"),e.YNc(1,wt,1,0,"ng-component",6),e.qZA()),2&n){e.oxw();const t=e.MAs(7);e.Q6J("@flowControl",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Tt(n,i){1&n&&e._UZ(0,"ng-component")}function Pt(n,i){1&n&&e._UZ(0,"ng-component")}function Mt(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Pt,1,0,"ng-component",6),e.qZA()),2&n){e.oxw(2);const t=e.MAs(7);e.Q6J("@flowControl",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ot(n,i){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Tt,1,0,"ng-component",6),e.YNc(2,Mt,2,2,"div",1),e.qZA()),2&n){const t=e.oxw(),s=e.MAs(5);e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngIf",t.ratingVisible)}}const Ce=function(){return["#37d9e3","#ba46f0"]};function St(n,i){if(1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"div",15),e._UZ(3,"app-speed-result-values-panel",16),e._UZ(4,"app-speed-result-values-panel",17),e.qZA(),e._UZ(5,"app-ping-result-values-panel",18),e._UZ(6,"app-speed-chart",19),e.TgZ(7,"div",20),e._UZ(8,"button",21),e._UZ(9,"button",22),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("isPro",t.testing.isProMode)("loss",t.getDownloadResult().loss)("speed",t.testing.isProMode?t.getDownloadResult().speed:t.getDownloadResult().slowSpeed)("stability",t.getDownloadResult().stability),e.xp6(1),e.Q6J("isPro",t.testing.isProMode)("loss",t.getUploadResult().loss)("speed",t.testing.isProMode?t.getUploadResult().speed:t.getUploadResult().slowSpeed)("stability",t.getUploadResult().stability),e.xp6(1),e.Q6J("isPro",t.testing.isProMode)("jitter",t.getJitter())("ping",t.getPing()),e.xp6(1),e.Q6J("chartData",t.getChartData())("fill",e.DdM(15,Ce))("ratio",4)("stroke",e.DdM(16,Ce))}}function Zt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"div",24),e._UZ(2,"i",25),e._uU(3," \u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0432\u044f\u0437\u0438 "),e.qZA(),e.TgZ(4,"p-rating",26),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().rating=o}),e.qZA(),e.TgZ(5,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().sendRating()}),e.qZA(),e.TgZ(6,"div",28),e._uU(7,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043e\u0442\u0437\u044b\u0432!"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@ratingInputFade",t.ratingState),e.xp6(3),e.Q6J("ngModel",t.rating)("@ratingInputFade",t.ratingState)("cancel",!1),e.xp6(1),e.Q6J("@ratingInputFade",t.ratingState)("disabled",0===t.rating||t.ratingBtnDisabled),e.xp6(1),e.Q6J("@thanksRise",t.ratingState)}}const At=[(0,a.X$)("flowResult",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"translateY(-1rem)"}),(0,a.jt)("600ms ease-in",(0,a.oB)({opacity:1,transform:"translateY(0)"}))]),(0,a.eR)(":leave",[(0,a.oB)({opacity:1,transform:"translateY(0)"}),(0,a.jt)("0ms ease-in",(0,a.oB)({opacity:0,transform:"translateY(-1rem)"}))])]),(0,a.X$)("flowControl",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"translateY(-1rem)"}),(0,a.jt)(".5s .5s ease-out",(0,a.oB)({opacity:1,transform:"translateY(0)"}))])]),(0,a.X$)("fade",[(0,a.eR)(":enter",[(0,a.oB)({opacity:.3}),(0,a.jt)("400ms ease-in",(0,a.oB)({opacity:1}))]),(0,a.eR)(":leave",[(0,a.oB)({opacity:1}),(0,a.jt)("0ms ease-in",(0,a.oB)({opacity:0}))])]),(0,a.X$)("ratingInputFade",[(0,a.SB)("done",(0,a.oB)({opacity:0,display:"none"})),(0,a.eR)("*=>done",(0,a.jt)("0.5s",(0,a.oB)({opacity:0})))]),(0,a.X$)("thanksRise",[(0,a.SB)("done",(0,a.oB)({opacity:1,display:"block"})),(0,a.eR)("*=>done",[(0,a.oB)({display:"block",opacity:0}),(0,a.jt)(".7s .5s",(0,a.oB)({opacity:1}))])])];let D=(()=>{class n{constructor(t,s,o,r,u,l){this.router=t,this.route=s,this.breakpointObserver=o,this.api=r,this.testing=u,this.titleService=l,this.isMobile=!1,this.rating=0,this.ratingVisible=!1,this.ratingState="",this.ratingBtnDisabled=!1}ngOnInit(){this.titleService.setTitle("Microel.\u041c\u0415\u0422\u0420 - \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),this.route.queryParams.subscribe(t=>{this.api.getMeasure(t.id).subscribe(s=>{s.isError?this.router.navigate(["error"],{queryParams:{err:s.errorMessage}}).then():this.measure=s.responseBody})}),this.api.isAlreadyRated().subscribe(t=>{this.ratingVisible=!t.isError}),this.breakpointObserver.observe(["(max-width: 768px)"]).subscribe(t=>{this.isMobile=t.matches})}getChartData(){var t,s,o,r,u,l,c,g;return this.testing.isProMode&&(null===(t=this.measure)||void 0===t?void 0:t.downloadSpeedChart)&&(null===(s=this.measure)||void 0===s?void 0:s.uploadSpeedChart)?[null===(o=this.measure)||void 0===o?void 0:o.downloadSpeedChart,null===(r=this.measure)||void 0===r?void 0:r.uploadSpeedChart]:!this.testing.isProMode&&(null===(u=this.measure)||void 0===u?void 0:u.downloadSpeedChartUser)&&(null===(l=this.measure)||void 0===l?void 0:l.uploadSpeedChartUser)?[null===(c=this.measure)||void 0===c?void 0:c.downloadSpeedChartUser,null===(g=this.measure)||void 0===g?void 0:g.uploadSpeedChartUser]:[[],[]]}getDownloadResult(){var t,s,o,r,u,l,c,g,C,y,m,v;return{speed:null!==(o=null===(s=null===(t=this.measure)||void 0===t?void 0:t.downloadSpeed)||void 0===s?void 0:s.toFixed(2).toString())&&void 0!==o?o:"-",stability:null!==(l=null===(u=null===(r=this.measure)||void 0===r?void 0:r.downloadStability)||void 0===u?void 0:u.toFixed(2).toString())&&void 0!==l?l:"-",loss:null!==(C=null===(g=null===(c=this.measure)||void 0===c?void 0:c.downloadLoss)||void 0===g?void 0:g.toFixed(2).toString())&&void 0!==C?C:"-",chartData:[],slowSpeed:null!==(v=null===(m=null===(y=this.measure)||void 0===y?void 0:y.downloadSpeedUser)||void 0===m?void 0:m.toFixed(2).toString())&&void 0!==v?v:"-",slowChartData:[]}}getUploadResult(){var t,s,o,r,u,l,c,g,C,y,m,v;return{speed:null!==(o=null===(s=null===(t=this.measure)||void 0===t?void 0:t.uploadSpeed)||void 0===s?void 0:s.toFixed(2).toString())&&void 0!==o?o:"-",stability:null!==(l=null===(u=null===(r=this.measure)||void 0===r?void 0:r.uploadStability)||void 0===u?void 0:u.toFixed(2).toString())&&void 0!==l?l:"-",loss:null!==(C=null===(g=null===(c=this.measure)||void 0===c?void 0:c.uploadLoss)||void 0===g?void 0:g.toFixed(2).toString())&&void 0!==C?C:"-",chartData:[],slowSpeed:null!==(v=null===(m=null===(y=this.measure)||void 0===y?void 0:y.uploadSpeedUser)||void 0===m?void 0:m.toFixed(2).toString())&&void 0!==v?v:"-",slowChartData:[]}}getPing(){var t,s,o;return null!==(o=null===(s=null===(t=this.measure)||void 0===t?void 0:t.ping)||void 0===s?void 0:s.toFixed(3).toString())&&void 0!==o?o:"-"}getJitter(){var t,s,o;return null!==(o=null===(s=null===(t=this.measure)||void 0===t?void 0:t.pingJitter)||void 0===s?void 0:s.toFixed(3).toString())&&void 0!==o?o:"-"}sendRating(){this.ratingBtnDisabled=!0,this.ratingState="done",this.api.putRating(this.rating).subscribe(()=>{setTimeout(()=>this.ratingVisible=!1,2500)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(Q.Yg),e.Y36(S),e.Y36(x),e.Y36(M.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"content-wrapper"],[4,"ngIf"],["class","mobile-content",4,"ngIf"],["resultTemplate",""],["controlsTemplate",""],["pTemplate","header"],[4,"ngTemplateOutlet"],[1,"header"],[1,"pi","pi-chart-bar"],[1,"empty"],[1,"timestamp"],[1,"pi","pi-clock","timestamp"],[1,"mobile-content"],[1,"card-content"],[1,"result-content"],[1,"speed-result-wrapper"],["testType","download",3,"isPro","loss","speed","stability"],["testType","upload",3,"isPro","loss","speed","stability"],[3,"isPro","jitter","ping"],["sized","width",3,"chartData","fill","ratio","stroke"],[1,"controls-content"],["icon","pi pi-replay","iconPos","left","label","\u0418\u0437\u043c\u0435\u0440\u0438\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437","pButton","","routerLink","/measure",1,"p-button-text"],["icon","pi pi-send","iconPos","left","label","\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0442\u0435\u0445. \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439","pButton","","routerLink","/complaint",1,"p-button-text","p-button-danger"],[1,"rating-panel"],[1,"rating-label"],[1,"pi","pi-star"],[1,"rating-input",3,"ngModel","cancel","ngModelChange"],["label","\u041e\u0446\u0435\u043d\u0438\u0442\u044c","pButton","",1,"p-button-success","rating-button",3,"disabled","click"],[1,"congratulation"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,bt,3,2,"p-card",1),e.YNc(2,xt,2,2,"p-card",1),e.YNc(3,Ot,3,3,"div",2),e.qZA(),e.YNc(4,St,10,17,"ng-template",null,3,e.W1O),e.YNc(6,Zt,8,7,"ng-template",null,4,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",!s.isMobile),e.xp6(1),e.Q6J("ngIf",!s.isMobile&&s.ratingVisible),e.xp6(1),e.Q6J("ngIf",s.isMobile))},styles:["[_nghost-%COMP%]{flex-grow:1}.header[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#556674;padding:1.1rem 1.3rem 0;display:flex;flex-wrap:wrap;align-items:baseline;gap:.3em}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1}.header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.8rem;color:#768794}.content-wrapper[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:550px;grid-template-rows:1fr min-content;justify-content:center;align-items:center}.result-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;justify-content:center;align-items:center;grid-gap:1em;gap:1em;flex:1}.controls-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem}.card-content[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.speed-result-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;height:100%;gap:1rem}.mobile-content[_ngcontent-%COMP%]{display:grid;grid-gap:3rem;gap:3rem;justify-items:center;background-color:#fff;padding:3rem 1rem}.rating-panel[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;justify-items:center;height:7.875rem}.rating-panel[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{color:#768794;font-size:1.6rem;font-weight:500;grid-area:1/1/2/2}.rating-panel[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.rating-panel[_ngcontent-%COMP%]   .rating-input[_ngcontent-%COMP%]{grid-area:2/1/3/2}.rating-panel[_ngcontent-%COMP%]   .rating-button[_ngcontent-%COMP%]{grid-area:3/1/4/2}.rating-panel[_ngcontent-%COMP%]   .congratulation[_ngcontent-%COMP%]{align-self:center;color:#4898df;font-size:3rem;font-weight:300;display:none;opacity:0;grid-area:1/1/4/2}@media (max-width: 768px){.card-content[_ngcontent-%COMP%]{flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{grid-template-columns:100%}}@media (min-width: 769px){.card-content[_ngcontent-%COMP%]{flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{padding:1rem;grid-template-columns:750px}}"],data:{animation:At}}),n})();var A=p(845);let G=(()=>{class n{constructor(t,s){this.route=t,this.titleService=s,this.error=""}ngOnInit(){this.titleService.setTitle("Microel.\u041c\u0415\u0422\u0420 - \u041e\u0448\u0438\u0431\u043a\u0430"),this.route.queryParams.subscribe(t=>this.error=t.err)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.gz),e.Y36(M.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"content-wrapper"],[1,"message-wrapper"],[1,"title"],[1,"message"],[1,"actions"],["label","\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","pButton","","routerLink","/"],["label","\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0442\u0435\u0445. \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439","pButton","","routerLink","/complaint",1,"p-button-link"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3," \u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 "),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"button",5),e._UZ(8,"button",6),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",s.error," "))},directives:[A.Hq,h.rH],styles:["[_nghost-%COMP%]{flex-grow:1}.content-wrapper[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content;justify-content:center;padding:2rem;margin-top:2rem}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow min-content/1fr;grid-gap:.7rem;gap:.7rem;justify-items:center}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;color:#dc3545;font-size:2rem;font-weight:300;gap:.5rem}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2rem;height:2rem}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#556674;font-size:1.3rem;font-weight:500;text-align:center;max-width:90vw}.content-wrapper[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:grid;grid:auto-flow min-content/1fr;margin-top:2rem;grid-gap:1.5rem;gap:1.5rem}"]}),n})();var f=p(3075),k=p(4297),ye=p(2537);let Et=(()=>{class n{constructor(t,s,o,r){this.el=t,this.ngModel=s,this.control=o,this.cd=r,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(t){this.autoResize&&this.resize(t)}onBlur(t){this.autoResize&&this.resize(t)}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(f.On,8),e.Y36(f.a5,8),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,s){1&t&&e.NdJ("input",function(r){return s.onInput(r)})("focus",function(r){return s.onFocus(r)})("blur",function(r){return s.onBlur(r)}),2&t&&e.ekj("p-filled",s.filled)("p-inputtextarea-resizable",s.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),n})(),It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})(),Rt=(()=>{class n{constructor(t,s,o){this.el=t,this._zone=s,this.cd=o,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.initCallback="initRecaptcha",this.onResponse=new e.vpe,this.onExpire=new e.vpe,this._instance=null,this._language=null}get language(){return this._language}set language(t){this._language=t,this.init()}ngAfterViewInit(){window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(()=>{this.init()},100):window[this.initCallback]=()=>{this.init()}}init(){this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:t=>{this._zone.run(()=>this.recaptchaCallback(t))},"expired-callback":()=>{this._zone.run(()=>this.recaptchaExpiredCallback())}})}reset(){null!==this._instance&&(window.grecaptcha.reset(this._instance),this.cd.markForCheck())}getResponse(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)}recaptchaCallback(t){this.onResponse.emit({response:t})}recaptchaExpiredCallback(){this.onExpire.emit()}ngOnDestroy(){null!=this._instance&&window.grecaptcha.reset(this._instance)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-captcha"]],hostAttrs:[1,"p-element"],inputs:{siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabindex:"tabindex",initCallback:"initCallback",language:"language"},outputs:{onResponse:"onResponse",onExpire:"onExpire"},decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"div")},encapsulation:2,changeDetection:0}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})();function kt(n,i){if(1&n&&e._UZ(0,"span",6),2&n){const t=e.oxw(3);e.Q6J("innerHTML",t.text,e.oJD)}}function Ft(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,kt,1,1,"span",5),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.escape)}}function qt(n,i){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.text)}}function Ut(n,i){if(1&n&&e.YNc(0,qt,2,1,"span",7),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.escape)}}const Bt=function(n,i,t,s,o){return{"p-inline-message-info":n,"p-inline-message-warn":i,"p-inline-message-error":t,"p-inline-message-success":s,"p-inline-message-icon-only":o}};function Vt(n,i){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"span",2),e.YNc(2,Ft,2,1,"div",3),e.YNc(3,Ut,1,1,"ng-template",null,4,e.W1O),e.qZA()),2&n){const t=e.MAs(4),s=e.oxw();e.Tol(s.styleClass),e.Q6J("ngStyle",s.style)("ngClass",e.qbA(7,Bt,"info"===s.severity,"warn"===s.severity,"error"===s.severity,"success"===s.severity,null==s.text)),e.xp6(1),e.Q6J("ngClass",s.icon),e.xp6(1),e.Q6J("ngIf",!s.escape)("ngIfElse",t)}}let zt=(()=>{class n{constructor(){this.escape=!0}get icon(){let t=null;if(this.severity)switch(this.severity){case"success":t="pi pi-check";break;case"info":default:t="pi pi-info-circle";break;case"error":t="pi pi-times-circle";break;case"warn":t="pi pi-exclamation-triangle"}return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:"escape",style:"style",styleClass:"styleClass"},decls:1,vars:1,consts:[["aria-live","polite","class","p-inline-message p-component p-inline-message",3,"ngStyle","class","ngClass",4,"ngIf"],["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[1,"p-inline-message-icon",3,"ngClass"],[4,"ngIf","ngIfElse"],["escapeOut",""],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(t,s){1&t&&e.YNc(0,Vt,5,13,"div",0),2&t&&e.Q6J("ngIf",s.severity)},directives:[d.O5,d.PC,d.mk],styles:[".p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}\n"],encapsulation:2,changeDetection:0}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})(),Jt=(()=>{class n{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngStyle",s.style)("ngClass",s.styleClass),e.xp6(1),e.Udp("animation-duration",s.animationDuration),e.xp6(1),e.uIk("fill",s.fill)("stroke-width",s.strokeWidth))},directives:[d.PC,d.mk],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),n})(),Yt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})();function jt(n,i){1&n&&e.GkF(0)}function Lt(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," \u0424\u043e\u0440\u043c\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"),e.qZA())}function Qt(n,i){1&n&&e.GkF(0)}function Ht(n,i){if(1&n&&(e.TgZ(0,"p-card",6),e.YNc(1,Lt,2,0,"ng-template",7),e.YNc(2,Qt,1,0,"ng-container",8),e.qZA()),2&n){e.oxw();const t=e.MAs(7);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function Gt(n,i){1&n&&e.GkF(0)}function Wt(n,i){1&n&&e.GkF(0)}const be=function(n){return{state:n}};function Xt(n,i){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,Gt,1,0,"ng-container",1),e.YNc(2,Wt,1,0,"ng-container",8),e.qZA()),2&n){const t=e.oxw(),s=e.MAs(5),o=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(3,be,!0===t.isMobile)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function $t(n,i){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",13),e._uU(2," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438, \u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438. "),e.qZA())}function Kt(n,i){1&n&&(e.TgZ(0,"p-messages",11),e.YNc(1,$t,3,0,"ng-template",12),e.qZA())}function en(n,i){if(1&n&&e.YNc(0,Kt,2,0,"p-messages",10),2&n){const t=i.state,s=e.oxw();e.Q6J("ngIf",!s.loaded&&t)}}function tn(n,i){1&n&&e._UZ(0,"p-message",27)}function nn(n,i){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner"),e.qZA())}function sn(n,i){1&n&&(e.TgZ(0,"div",29),e._UZ(1,"i",30),e.TgZ(2,"div",31),e._uU(3," \u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438. \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u0437\u0432\u043e\u043d\u043a\u0430 \u043d\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. "),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"button",32),e.qZA(),e.qZA())}function on(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"span",15),e.TgZ(2,"label"),e._uU(3,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(4,"p-inputMask",16),e.qZA(),e.TgZ(5,"div",17),e.TgZ(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"),e.qZA(),e._UZ(8,"textarea",18),e.qZA(),e.TgZ(9,"div",19),e.TgZ(10,"p-captcha",20),e.NdJ("onResponse",function(o){return e.CHM(t),e.oxw().captchaResponse(o)}),e.qZA(),e.YNc(11,tn,1,0,"p-message",21),e.qZA(),e.TgZ(12,"span",22),e._UZ(13,"button",23),e.TgZ(14,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e.qZA(),e.qZA(),e.YNc(15,nn,2,0,"div",25),e.YNc(16,sn,6,0,"div",26),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.formGroup),e.xp6(1),e.Q6J("@controls",t.controlsAnimationState),e.xp6(4),e.Q6J("@controls",t.controlsAnimationState),e.xp6(3),e.Q6J("autoResize",!0)("rows",5),e.xp6(1),e.Q6J("@controls",t.controlsAnimationState),e.xp6(1),e.Q6J("siteKey",t.api.CAPTCHA_PUBLIC),e.xp6(1),e.Q6J("ngIf",t.robotError),e.xp6(1),e.Q6J("@controls",t.controlsAnimationState),e.xp6(2),e.Q6J("disabled",!t.formGroup.valid),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",t.loaded)}}const rn=[(0,a.X$)("controls",[(0,a.SB)("hide",(0,a.oB)({opacity:0,"pointer-events":"none"})),(0,a.eR)("*=>hide",[(0,a.oB)({opacity:1}),(0,a.jt)(".4s",(0,a.oB)({opacity:0}))])])];let W=(()=>{class n{constructor(t,s,o){this.api=t,this.breakpoint=s,this.titleService=o,this.formGroup=new f.cw({phone:new f.NI("",f.kI.required),description:new f.NI("",f.kI.required),captchaToken:new f.NI(null)}),this.robotError=!1,this.loading=!1,this.loaded=!1,this.controlsAnimationState="",this.isMobile=!1}ngOnInit(){this.titleService.setTitle("Microel.\u041c\u0415\u0422\u0420 - \u0422\u0435\u0445. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"),this.breakpoint.observe(["(max-width: 606px)"]).subscribe(t=>this.isMobile=t.matches)}captchaResponse(t){this.formGroup.patchValue({captchaToken:t.response})}submit(){this.controlsAnimationState="hide",this.loading=!0,setTimeout(()=>{this.api.putComplaint(this.formGroup.getRawValue()).subscribe(t=>{t.isError?(this.robotError=!0,setTimeout(()=>{this.loading=!1,this.controlsAnimationState=""},1e3)):setTimeout(()=>{this.loading=!1,this.loaded=!0},1e3)})},400)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(Q.Yg),e.Y36(M.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:6,consts:[[1,"content-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","desktop-wrapper",4,"ngIf"],["class","mobile-wrapper",4,"ngIf"],["infoMsg",""],["formTemplate",""],[1,"desktop-wrapper"],["pTemplate","header"],[4,"ngTemplateOutlet"],[1,"mobile-wrapper"],["severity","warn",4,"ngIf"],["severity","warn"],["pTemplate","content"],[1,"pi","pi-info-circle"],[1,"sent-form",3,"formGroup"],[1,"input-label-container","phone"],["formControlName","phone","mask","(999) 999-99-99","placeholder","(912) 123-45-67"],[1,"input-label-container","description"],["formControlName","description","pInputTextarea","",3,"autoResize","rows"],[1,"captcha-container"],[3,"siteKey","onResponse"],["severity","error","text","\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0447\u0442\u043e \u0432\u044b \u043d\u0435 \u0440\u043e\u0431\u043e\u0442",4,"ngIf"],[1,"controls"],["icon","pi pi-home","label","\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","pButton","","routerLink","/",1,"p-button-secondary"],["icon","pi pi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","pButton","",3,"disabled","click"],["class","loading",4,"ngIf"],["class","loaded",4,"ngIf"],["severity","error","text","\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0447\u0442\u043e \u0432\u044b \u043d\u0435 \u0440\u043e\u0431\u043e\u0442"],[1,"loading"],[1,"loaded"],[1,"pi","pi-check-circle"],[1,"done-response"],["icon","pi pi-home","label","\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","pButton","","routerLink","/"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,jt,1,0,"ng-container",1),e.YNc(2,Ht,3,1,"p-card",2),e.YNc(3,Xt,3,5,"div",3),e.qZA(),e.YNc(4,en,1,1,"ng-template",null,4,e.W1O),e.YNc(6,on,17,12,"ng-template",null,5,e.W1O)),2&t){const o=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(4,be,!1===s.isMobile)),e.xp6(1),e.Q6J("ngIf",!s.isMobile),e.xp6(1),e.Q6J("ngIf",s.isMobile)}},directives:[d.tP,d.O5,k.Z,Z.jx,j.V,f._Y,f.JL,f.sg,ye.vy,f.JJ,f.u,f.Fj,Et,Rt,zt,A.Hq,h.rH,Jt],styles:["[_nghost-%COMP%]{flex-grow:1}.content-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow min-content/max-content;justify-content:center}.desktop-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.mobile-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 1rem 2rem;width:100vw}.sent-form[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid:auto-flow min-content/100%}.controls[_ngcontent-%COMP%]{display:flex;flex-shrink:0;justify-content:space-between;padding-top:1rem;grid-area:4/1/5/2}.captcha-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;grid-area:3/1/4/2}.phone[_ngcontent-%COMP%]{grid-area:1/1/2/2}.description[_ngcontent-%COMP%]{grid-area:2/1/3/2}.loading[_ngcontent-%COMP%]{grid-area:1/1/5/2;place-self:center}.loaded[_ngcontent-%COMP%]{grid-area:1/1/5/2;place-self:center;width:45rem;max-width:100%;display:grid;justify-items:center}.loaded[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;padding-bottom:1rem;color:#43d065}.loaded[_ngcontent-%COMP%]   .done-response[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:500;padding-bottom:2rem;color:#556674}.loaded[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}"],data:{animation:rn}}),n})(),an=(()=>{class n{transform(t,...s){let o=t/1e3,r=o/60,u=r/60,l=Math.floor(u/24);return o=Math.floor(o%60),r=Math.floor(r%60),u=Math.floor(u/24),`${l?l+" \u0434\u043d\u0435\u0439 ":""}${u?u+" \u0447\u0430\u0441\u043e\u0432 ":""}${r?r+" \u043c\u0438\u043d\u0443\u0442 ":""}${o?o+" \u0441\u0435\u043a\u0443\u043d\u0434":"0 \u0441\u0435\u043a\u0443\u043d\u0434"}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"duration",type:n,pure:!0}),n})();function un(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",11),e._uU(2,"\u0421\u0435\u0441\u0441\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"),e.qZA(),e.TgZ(3,"span"),e.TgZ(4,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().restart()}),e.qZA(),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"button",8),e.qZA(),e.qZA()}}const ln=function(n){return[n]},we=function(){return["#37d9e3"]};let X=(()=>{class n{constructor(t,s){this.router=t,this.titleService=s,this.counter=new P(new R(3e5)),this.duration=3e5,this.sessionEnd=!1}ngOnInit(){this.titleService.setTitle("Microel.\u041c\u0415\u0422\u0420 - \u0420\u0430\u0434\u0430\u0440"),this.counter.run();const t=Date.now()+3e5,s=setInterval(()=>{this.duration=t-Date.now(),this.duration<0&&(this.duration=0)},60);this.counter.getObserver().subscribe({error:this.errorHandler.bind(this),complete:()=>{clearInterval(s),this.sessionEnd=!0}})}ngOnDestroy(){this.counter.abort(),this.counter=new P(new R(3e5))}restart(){location.reload()}errorHandler(t){this.router.navigate(["error"],{queryParams:{err:t}}).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(M.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:20,vars:21,consts:[[1,"radar-content"],["sized","auto",3,"chartData","fill","ratio","shifted","stroke"],[1,"measuring-values-container"],[1,"speed"],[1,"loss"],[1,"label"],[1,"session-duration"],[1,"home-button"],["icon","pi pi-home","label","\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e","pButton","","routerLink","/"],["class","end-session-view",4,"ngIf"],[1,"end-session-view"],[1,"end-session-title"],["icon","pi pi-refresh","label","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c","pButton","",1,"p-button-danger",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-speed-chart",1),e.TgZ(2,"div",2),e._UZ(3,"div"),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"number"),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"span",5),e._uU(9,"\u041f\u043e\u0442\u0435\u0440\u0438"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.qZA(),e._UZ(13,"div"),e.TgZ(14,"span",6),e._uU(15),e.ALo(16,"duration"),e.qZA(),e.TgZ(17,"span",7),e._UZ(18,"button",8),e.qZA(),e.qZA(),e.YNc(19,un,7,0,"div",9),e.qZA()),2&t&&(e.xp6(1),e.Q6J("chartData",e.VKq(17,ln,s.counter.chartData))("fill",e.DdM(19,we))("ratio",2)("shifted",!0)("stroke",e.DdM(20,we)),e.xp6(4),e.hij("",e.xi3(6,9,s.counter.currentValue,"1.3")," \u041c\u0431\u0438\u0442/\u0441"),e.xp6(6),e.hij("",e.xi3(12,12,s.counter.percentLoss,"1.2")," %"),e.xp6(4),e.hij("\u0421\u0435\u0441\u0441\u0438\u044f \u0438\u0441\u0442\u0435\u0447\u0435\u0442 (",e.lcZ(16,15,s.duration),")"),e.xp6(4),e.Q6J("ngIf",s.sessionEnd))},directives:[J,A.Hq,h.rH,d.O5],pipes:[d.JJ,an],styles:["[_nghost-%COMP%]{flex-grow:1}.radar-content[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 74px);background-color:#fff;position:relative}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr repeat(2,min-content) 1fr min-content/max-content;justify-items:center;justify-content:center;align-items:center;align-content:center;grid-gap:1rem;gap:1rem;width:100%;height:100%}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]{font-size:3.6rem;font-weight:300;color:#42c4cc}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]{font-size:1.6rem;color:#768794;display:flex;gap:.3rem}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#a4b1bb}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]   .session-duration[_ngcontent-%COMP%]{color:#a4b1bb;font-size:1rem;padding-bottom:1rem}.radar-content[_ngcontent-%COMP%]   .measuring-values-container[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{padding-bottom:2rem}.radar-content[_ngcontent-%COMP%]   .end-session-view[_ngcontent-%COMP%]{backdrop-filter:blur(3px) brightness(.7);position:absolute;display:grid;justify-items:center;justify-content:center;align-items:center;align-content:center;grid-gap:1.5rem;gap:1.5rem;width:100%;height:100%}.radar-content[_ngcontent-%COMP%]   .end-session-view[_ngcontent-%COMP%]   .end-session-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;color:#fff}"]}),n})();function cn(n,i){if(1&n&&(e.TgZ(0,"div",8),e.TgZ(1,"span"),e._uU(2,"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.stability," %")}}function pn(n,i){if(1&n&&(e.TgZ(0,"div",9),e.TgZ(1,"span"),e._uU(2,"\u041f\u043e\u0442\u0435\u0440\u0438"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.loss," %")}}let xe=(()=>{class n{constructor(){this.testType="download",this.title="\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435",this.icon="../../../../assets/img/download.svg",this.stability="-",this.loss="-",this.isPro=!1,this.tested=!1,this._speed="-"}get speed(){return this._speed}set speed(t){this._speed=t,this.makeTested()}makeTested(){"-"!==this.speed&&(this.icon="download"===this.testType?"../../../../assets/icons/download.svg":"../../../../assets/icons/upload.svg",this.tested=!0)}ngOnInit(){"download"===this.testType?(this.title="\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435",this.icon="../../../../assets/icons/download-inactive.svg"):"upload"===this.testType&&(this.title="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",this.icon="../../../../assets/icons/upload-inactive.svg")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-speed-result-values-panel"]],inputs:{testType:"testType",stability:"stability",loss:"loss",isPro:"isPro",speed:"speed"},decls:11,vars:6,consts:[[1,"wrapper"],[1,"title-group"],["alt","",3,"src"],[1,"title"],[1,"sub-title"],[1,"speed"],["class","stability",4,"ngIf"],["class","loss",4,"ngIf"],[1,"stability"],[1,"loss"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"span",4),e._uU(6,"\u041c\u0431\u0438\u0442/\u0441"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.YNc(9,cn,4,1,"div",6),e.YNc(10,pn,4,1,"div",7),e.qZA()),2&t&&(e.Q6J("@finishTest",s.tested?"finished":"empty"),e.xp6(2),e.Q6J("src",s.icon,e.LSH),e.xp6(2),e.Oqu(s.title),e.xp6(4),e.Oqu(s.speed),e.xp6(1),e.Q6J("ngIf",s.isPro),e.xp6(1),e.Q6J("ngIf",s.isPro))},directives:[d.O5],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow min-content/max-content;justify-items:center;opacity:.7;transition:opacity .3s ease-in-out}.wrapper[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.wrapper[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.2rem}.wrapper[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;color:#556674}.wrapper[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;color:#a4b1bb;place-self:baseline}.wrapper[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]{font-size:2.3rem;color:#556674}.wrapper[_ngcontent-%COMP%]   .stability[_ngcontent-%COMP%]{padding-top:.5rem;font-size:.8rem;color:#4898df}.wrapper[_ngcontent-%COMP%]   .stability[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:#768794;margin:.2rem}.wrapper[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]{padding-top:.5rem;font-size:.8rem;color:#4898df}.wrapper[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:#768794;margin:.2rem}.tested[_ngcontent-%COMP%]{opacity:1}"],data:{animation:[(0,a.X$)("finishTest",[(0,a.SB)("finished",(0,a.oB)({opacity:1})),(0,a.SB)("empty",(0,a.oB)({opacity:.5})),(0,a.eR)("empty => finished",[(0,a.jt)("1s ease-in")])])]}}),n})();function dn(n,i){if(1&n&&(e.TgZ(0,"span",1),e._UZ(1,"img",6),e.TgZ(2,"span",3),e._uU(3,"\u0414\u0440\u043e\u0436\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.hij("",t.jitter," \u043c\u0441")}}let Te=(()=>{class n{constructor(t){this.measure=t,this.ping="-",this.jitter="-",this.isPro=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ping-result-values-panel"]],inputs:{ping:"ping",jitter:"jitter",isPro:"isPro"},decls:8,vars:2,consts:[[1,"wrapper"],[1,"value-wrapper"],["alt","","src","../../../../assets/icons/ping.svg"],[1,"label"],[1,"value"],["class","value-wrapper",4,"ngIf"],["alt","","src","../../../../assets/icons/jitter.svg"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"span",1),e._UZ(2,"img",2),e.TgZ(3,"span",3),e._uU(4,"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430"),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e.qZA(),e.YNc(7,dn,6,1,"span",5),e.qZA()),2&t&&(e.xp6(6),e.hij("",s.ping," \u043c\u0441"),e.xp6(1),e.Q6J("ngIf",s.isPro))},directives:[d.O5],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:2em;align-items:center;justify-content:center;font-size:.9rem;color:#556674}.wrapper[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]{display:flex;gap:.2em;align-items:center}.wrapper[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.2em}.wrapper[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:2em;width:max-content;text-align:end}"]}),n})();const gn=["indicator"];function hn(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),e.qZA())}function mn(n,i){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",10),e._uU(2," \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 "),e.qZA())}function fn(n,i){1&n&&(e.TgZ(0,"span"),e._UZ(1,"img",11),e._uU(2," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 "),e.qZA())}const vn=(0,a.X$)("testType",[(0,a.SB)("download",(0,a.oB)({borderColor:"#37d9e3 #37d9e3 #b2bec3 #b2bec3"})),(0,a.SB)("upload",(0,a.oB)({borderColor:"#ba46f0 #ba46f0 #b2bec3 #b2bec3"})),(0,a.eR)("download => upload",[(0,a.jt)("1s ease-in")])]);let _n=(()=>{class n{constructor(t){this.service=t,this.value="0.00",this.maxSpeed=100,this.testType="download"}set speed(t){this.updateIndicator(t)}updateIndicator(t){if(!this.indicator)return;this.value=t;const s=parseFloat(t)<=this.maxSpeed?parseFloat(t):this.maxSpeed;this.indicator.nativeElement.style.transform=`rotate(${135+180/this.maxSpeed*s}deg)`}ngAfterViewInit(){this.updateIndicator(this.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-speed-indicator"]],viewQuery:function(t,s){if(1&t&&e.Gf(gn,5),2&t){let o;e.iGM(o=e.CRH())&&(s.indicator=o.first)}},inputs:{testType:"testType",speed:"speed"},decls:13,vars:5,consts:[[1,"wrapper"],[1,"wrapper-indicator"],[1,"indicator"],["indicator",""],[1,"current-test-title",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"wrapper-values"],[1,"speed-value"],[1,"unit"],["alt","","src","../../../../assets/icons/download.svg"],["alt","","src","../../../../assets/icons/upload.svg"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2,3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,hn,2,0,"span",5),e.YNc(6,mn,3,0,"span",6),e.YNc(7,fn,3,0,"span",6),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"span",8),e._uU(10),e.qZA(),e.TgZ(11,"span",9),e._uU(12,"\u041c\u0431\u0438\u0442/\u0441"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@testType",s.testType),e.xp6(2),e.Q6J("ngSwitch",s.service.testStage),e.xp6(2),e.Q6J("ngSwitchCase",3),e.xp6(1),e.Q6J("ngSwitchCase",4),e.xp6(3),e.Oqu(s.value))},directives:[d.RF,d.ED,d.n9],styles:["[_nghost-%COMP%]{width:max-content;height:min-content}.wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/100%;width:20rem;height:20rem;font-size:1rem;justify-items:center;box-shadow:0 .1rem .5rem #0000001a,0 0 1px #0003;border-radius:50%}.wrapper[_ngcontent-%COMP%]   .wrapper-indicator[_ngcontent-%COMP%]{display:flex;width:20rem;aspect-ratio:2;overflow:hidden;justify-content:center;grid-area:1/1/2/2}.wrapper[_ngcontent-%COMP%]   .wrapper-indicator[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:20rem;height:20rem;border-radius:50%;border:1.2em solid;transform:rotate(135deg);transition:transform .3s ease-in-out}.wrapper[_ngcontent-%COMP%]   .current-test-title[_ngcontent-%COMP%]{font-size:1.5rem;grid-area:1/1/2/2;align-self:center;color:#556674;justify-items:center;transform:translateY(-125%)}.wrapper[_ngcontent-%COMP%]   .current-test-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2em}.wrapper[_ngcontent-%COMP%]   .current-test-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1em}.wrapper[_ngcontent-%COMP%]   .wrapper-values[_ngcontent-%COMP%]{grid-area:1/1/2/2;align-self:center;display:grid;justify-items:center;transform:translateY(2.5rem)}.wrapper[_ngcontent-%COMP%]   .wrapper-values[_ngcontent-%COMP%]   .speed-value[_ngcontent-%COMP%]{font-size:2.5rem;color:#556674}.wrapper[_ngcontent-%COMP%]   .wrapper-values[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:500;color:#a4b1bb}.download-indicator[_ngcontent-%COMP%]{border-color:#37d9e3 #37d9e3 #a4b1bb #a4b1bb!important}.upload-indicator[_ngcontent-%COMP%]{border-color:#ba46f0 #ba46f0 #a4b1bb #a4b1bb!important}"],data:{animation:[vn]}}),n})();function Cn(n,i){1&n&&e._UZ(0,"ng-component")}function yn(n,i){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,Cn,1,0,"ng-component",5),e.qZA()),2&n){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function bn(n,i){1&n&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e._uU(2," \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA())}function wn(n,i){1&n&&e._UZ(0,"ng-component")}function xn(n,i){if(1&n&&(e.TgZ(0,"p-card",6),e.YNc(1,bn,3,0,"ng-template",7),e.YNc(2,wn,1,0,"ng-component",5),e.qZA()),2&n){e.oxw();const t=e.MAs(4);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function Tn(n,i){if(1&n&&e._UZ(0,"app-speed-indicator",19),2&n){const t=e.oxw(2);e.Q6J("@fade",void 0)("speed",t.indicatorSpeed)("testType",t.testType)}}const Pe=function(){return["#37d9e3","#ba46f0"]};function Pn(n,i){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-speed-result-values-panel",11),e._UZ(2,"app-speed-result-values-panel",12),e.qZA(),e.TgZ(3,"div",13),e._UZ(4,"app-ping-result-values-panel",14),e.qZA(),e.TgZ(5,"div",15),e._UZ(6,"app-speed-chart",16),e.qZA(),e.TgZ(7,"div",17),e.YNc(8,Tn,1,3,"app-speed-indicator",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("@flow",void 0)("isPro",t.service.isProMode)("loss",t.downloadLoss)("speed",t.downloadSpeed)("stability",t.downloadStability),e.xp6(1),e.Q6J("@flow",void 0)("isPro",t.service.isProMode)("loss",t.uploadLoss)("speed",t.uploadSpeed)("stability",t.uploadStability),e.xp6(2),e.Q6J("@flow",void 0)("isPro",t.service.isProMode)("jitter",t.jitter)("ping",t.ping),e.xp6(2),e.Q6J("chartData",t.chart)("fill",e.DdM(18,Pe))("stroke",e.DdM(19,Pe)),e.xp6(2),e.Q6J("ngIf",5!==t.service.testStage)}}const Mn=(0,a.X$)("fade",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"scale(.9)"}),(0,a.jt)("400ms ease-in-out",(0,a.oB)({transform:"scale(1)",opacity:1}))]),(0,a.eR)(":leave",[(0,a.oB)({transform:"scale(1)",opacity:1}),(0,a.jt)("400ms ease-in-out",(0,a.oB)({opacity:0,transform:"scale(0)"}))])]),On=(0,a.X$)("flow",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"translateY(1rem)"}),(0,a.jt)("600ms ease-out",(0,a.oB)({opacity:1,transform:"translateY(0)"}))]),(0,a.eR)(":leave",[(0,a.oB)({opacity:1,transform:"translateY(0)"}),(0,a.jt)("600ms ease-out",(0,a.oB)({opacity:0,transform:"translateY(1rem)"}))])]);let Me=(()=>{class n{constructor(t,s,o,r,u){this.service=t,this.router=s,this.route=o,this.breakpointObserver=r,this.titleService=u,this.isMobile=!1,this.chart=[[],[]],this.ping="-",this.jitter="-",this.downloadSpeed="-",this.downloadStability="-",this.downloadLoss="-",this.uploadSpeed="-",this.uploadStability="-",this.uploadLoss="-",this.indicatorSpeed="0.00",this.testType="download",this.subscribes=[]}ngOnInit(){this.titleService.setTitle("\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435..."),this.service.pingTest.getObserver().subscribe({next:()=>{this.ping=this.service.pingTest.pingValue.toFixed(3),this.jitter=this.service.pingTest.jitterValue.toFixed(3)}}),this.service.downloadTest.getObserver().subscribe({next:()=>{this.chart=this.service.isProMode?[this.service.downloadTest.chartData,this.service.uploadTest.chartData]:[this.service.downloadTest.slowChartData,this.service.uploadTest.slowChartData],this.indicatorSpeed=this.service.isProMode?this.service.downloadTest.currentValue.toFixed(2):this.service.downloadTest.slowCurrentValue.toFixed(2)},complete:()=>{this.downloadSpeed=this.service.isProMode?this.service.downloadTest.currentValue.toFixed(2):this.service.downloadTest.slowCurrentValue.toFixed(2),this.downloadStability=this.service.downloadTest.stability.toFixed(2),this.downloadLoss=this.service.downloadTest.percentLoss.toFixed(2),this.testType="upload",this.indicatorSpeed="0.00"}}),this.service.uploadTest.getObserver().subscribe({next:()=>{this.chart=this.service.isProMode?[this.service.downloadTest.chartData,this.service.uploadTest.chartData]:[this.service.downloadTest.slowChartData,this.service.uploadTest.slowChartData],this.indicatorSpeed=this.service.isProMode?this.service.uploadTest.currentValue.toFixed(2):this.service.uploadTest.slowCurrentValue.toFixed(2)},complete:()=>{this.uploadSpeed=this.service.isProMode?this.service.uploadTest.currentValue.toFixed(2):this.service.uploadTest.slowCurrentValue.toFixed(2),this.uploadStability=this.service.uploadTest.stability.toFixed(2),this.uploadLoss=this.service.uploadTest.percentLoss.toFixed(2)}}),this.service.sendStart(),this.subscribes.push(this.breakpointObserver.observe(["(max-width: 992px)"]).subscribe(t=>{this.isMobile=t.matches}))}ngOnDestroy(){this.service.isEnd||this.service.measureSocket.next({type:b.ABORT,deviceInfo:this.service.deviceInfo.getDeviceInfo()}),this.subscribes.forEach(t=>t.unsubscribe()),this.subscribes=[],this.service.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x),e.Y36(h.F0),e.Y36(h.gz),e.Y36(Q.Yg),e.Y36(M.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"content-wrapper"],["class","result-mobile",4,"ngIf"],["class","result-desktop",4,"ngIf"],["resultTemplate",""],[1,"result-mobile"],[4,"ngTemplateOutlet"],[1,"result-desktop"],["pTemplate","header"],[1,"header"],["alt","","src","../../../../assets/icons/gauge-dark.svg"],[1,"wrapper-result-panels"],["testType","download",3,"isPro","loss","speed","stability"],["testType","upload",3,"isPro","loss","speed","stability"],[1,"wrapper-ping-result-panel"],[3,"isPro","jitter","ping"],[1,"wrapper-testing-chart"],[3,"chartData","fill","stroke"],[1,"wrapper-current-test-panel"],[3,"speed","testType",4,"ngIf"],[3,"speed","testType"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,yn,2,1,"div",1),e.YNc(2,xn,3,1,"p-card",2),e.qZA(),e.YNc(3,Pn,9,20,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",s.isMobile),e.xp6(1),e.Q6J("ngIf",!s.isMobile))},directives:[d.O5,d.tP,h.fw,H,L,n,D,G,W,X,k.Z,Z.jx,xe,Te,J,_n],styles:["[_nghost-%COMP%]{flex-grow:1}.wrapper-result-panels[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:2rem 2rem 1rem;background-color:#fff;gap:1rem}.header[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#556674;padding:1.1rem 1.3rem 0;display:flex;gap:.1em;align-items:center}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.wrapper-ping-result-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;color:#768794}.wrapper-testing-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;height:150px;background-color:#fff}.wrapper-current-test-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem 1rem 3rem;gap:1rem;background-color:#fff;color:#768794}.content-wrapper[_ngcontent-%COMP%]{display:grid;justify-content:center}.result-desktop[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 767px){.content-wrapper[_ngcontent-%COMP%]{grid-template-columns:100%;grid-template-rows:min-content}}@media (min-width: 768px){.content-wrapper[_ngcontent-%COMP%]{grid-template-columns:100%;grid-template-rows:min-content}}@media (min-width: 992px){.content-wrapper[_ngcontent-%COMP%]{grid-template-columns:800px;grid-template-rows:min-content}}@media (min-width: 1200px){.content-wrapper[_ngcontent-%COMP%]{grid-template-columns:1000px;grid-template-rows:min-content}}"],data:{animation:[Mn,On]}}),n})();var Sn=p(8505);const Zn=[{path:"",component:H,children:[{path:"",component:L},{path:"measure",component:Me,canActivate:[fe]},{path:"error",component:G},{path:"result",component:D},{path:"complaint",component:W},{path:"radar",component:X,canActivate:[(()=>{class n{constructor(t,s){this.router=t,this.api=s}canActivate(t,s){return this.api.isPro().pipe((0,Sn.b)(o=>{o||this.router.navigate(["/"]).then()}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.F0),e.LFG(S))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}]}];let An=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Zn)],h.Bz]}),n})(),En=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})();var In=p(3860);function Rn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",3),e.NdJ("click",function(o){return e.CHM(t),e.oxw().clear(o)})("keydown.enter",function(o){return e.CHM(t),e.oxw().clear(o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle),e.uIk("tabindex",t.disabled||t.readonly?null:"0")}}function Dn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(o){const u=e.CHM(t).index;return e.oxw().rate(o,u)})("keydown.enter",function(o){const u=e.CHM(t).index;return e.oxw().rate(o,u)}),e.qZA()}if(2&n){const t=i.index,s=e.oxw();e.Q6J("ngClass",!s.value||t>=s.value?s.iconOffClass:s.iconOnClass)("ngStyle",!s.value||t>=s.value?s.iconOffStyle:s.iconOnStyle),e.uIk("tabindex",s.disabled||s.readonly?null:"0")}}const kn=function(n,i){return{"p-readonly":n,"p-disabled":i}},Fn={provide:f.JU,useExisting:(0,e.Gpc)(()=>Oe),multi:!0};let Oe=(()=>{class n{constructor(t){this.cd=t,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new e.vpe,this.onCancel=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}rate(t,s){!this.readonly&&!this.disabled&&(this.value=s+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:s+1})),t.preventDefault()}clear(t){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-rating"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[e._Bn([Fn])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Rn,1,3,"span",1),e.YNc(2,Dn,1,3,"span",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(3,kn,s.readonly,s.disabled)),e.xp6(1),e.Q6J("ngIf",s.cancel),e.xp6(1),e.Q6J("ngForOf",s.starsArray))},directives:[d.mk,d.O5,d.PC,d.sg],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),qn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})();var Un=p(1424),Bn=p(1074);let Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[x,O,fe],imports:[[d.ez,An,A.hJ,k.d,En,In.j,ve.T,j.$,qn,f.u5,Un.j,It,ye.zz,Dt,f.UX,Nt,Yt,Bn.AdminModule,_e.EV]]}),n})();e.B6R(D,[d.O5,k.Z,Z.jx,d.tP,h.fw,H,L,Me,D,G,W,X,xe,Te,J,A.Hq,h.rH,Oe,f.JJ,f.On],[d.uU])}}]);